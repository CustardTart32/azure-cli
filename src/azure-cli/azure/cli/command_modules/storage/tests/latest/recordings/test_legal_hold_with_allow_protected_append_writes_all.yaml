interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container create
      Connection:
      - keep-alive
      ParameterSetName:
      - --account-name -n --metadata
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Storage/storageAccounts?api-version=2025-01-01
  response:
    body:
      string: '{"value":[{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgd27z3tdjet3vfsn7botbqsf6jm7fmexxxn5vmn73etramkotnwhyfkqdi2byboe5b/providers/Microsoft.Storage/storageAccounts/clitest2xvbobz2axwv27x5b","name":"clitest2xvbobz2axwv27x5b","type":"Microsoft.Storage/storageAccounts","location":"eastus2","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-23T09:46:51.3932036Z","key2":"2025-09-23T09:46:51.3932036Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-23T09:46:51.4088277Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-23T09:46:51.4088277Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"ResolvingDns","creationTime":"2025-09-23T09:46:51.2525789Z","primaryEndpoints":{"dfs":"https://clitest2xvbobz2axwv27x5b.dfs.core.windows.net/","web":"https://clitest2xvbobz2axwv27x5b.z20.web.core.windows.net/","blob":"https://clitest2xvbobz2axwv27x5b.blob.core.windows.net/","queue":"https://clitest2xvbobz2axwv27x5b.queue.core.windows.net/","table":"https://clitest2xvbobz2axwv27x5b.table.core.windows.net/","file":"https://clitest2xvbobz2axwv27x5b.file.core.windows.net/"},"primaryLocation":"eastus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"eastus2","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-23T09:46:33.8932658Z","key2":"2025-09-23T09:46:33.8932658Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-23T09:46:33.9088890Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-23T09:46:33.9088890Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2025-09-23T09:46:33.7213903Z","primaryEndpoints":{"dfs":"https://clitest000002.dfs.core.windows.net/","web":"https://clitest000002.z20.web.core.windows.net/","blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"eastus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitestjgz2vbxoehsgsgrdzv66vcuzt3k43ebjs6z7xecb3ifakyal47jyc45giqll4fjdbbvt/providers/Microsoft.Storage/storageAccounts/clitestss2y5vuvs23xk6yvz","name":"clitestss2y5vuvs23xk6yvz","type":"Microsoft.Storage/storageAccounts","location":"eastus2","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-23T09:46:13.1745921Z","key2":"2025-09-23T09:46:13.1745921Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-23T09:46:13.1745921Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-23T09:46:13.1745921Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2025-09-23T09:46:13.0183414Z","primaryEndpoints":{"dfs":"https://clitestss2y5vuvs23xk6yvz.dfs.core.windows.net/","web":"https://clitestss2y5vuvs23xk6yvz.z20.web.core.windows.net/","blob":"https://clitestss2y5vuvs23xk6yvz.blob.core.windows.net/","queue":"https://clitestss2y5vuvs23xk6yvz.queue.core.windows.net/","table":"https://clitestss2y5vuvs23xk6yvz.table.core.windows.net/","file":"https://clitestss2y5vuvs23xk6yvz.file.core.windows.net/"},"primaryLocation":"eastus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clistorageys27llwtj6wkvvaygvsuuitquv3qfubjy5huudsriqyfsrvbe3hogi7okwiulvw3w/providers/Microsoft.Storage/storageAccounts/storagegrzsvz7usy65ha63z","name":"storagegrzsvz7usy65ha63z","type":"Microsoft.Storage/storageAccounts","location":"eastus2","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-23T09:44:36.2843118Z","key2":"2025-09-23T09:44:36.2843118Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-23T09:44:36.2999372Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-23T09:44:36.2999372Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2025-09-23T09:44:36.1124391Z","primaryEndpoints":{"dfs":"https://storagegrzsvz7usy65ha63z.dfs.core.windows.net/","web":"https://storagegrzsvz7usy65ha63z.z20.web.core.windows.net/","blob":"https://storagegrzsvz7usy65ha63z.blob.core.windows.net/","queue":"https://storagegrzsvz7usy65ha63z.queue.core.windows.net/","table":"https://storagegrzsvz7usy65ha63z.table.core.windows.net/","file":"https://storagegrzsvz7usy65ha63z.file.core.windows.net/"},"primaryLocation":"eastus2","statusOfPrimary":"available","secondaryLocation":"centralus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://storagegrzsvz7usy65ha63z-secondary.dfs.core.windows.net/","web":"https://storagegrzsvz7usy65ha63z-secondary.z20.web.core.windows.net/","blob":"https://storagegrzsvz7usy65ha63z-secondary.blob.core.windows.net/","queue":"https://storagegrzsvz7usy65ha63z-secondary.queue.core.windows.net/","table":"https://storagegrzsvz7usy65ha63z-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgkrsbaydbb5auli5pqpsqzzzwb2ow4og446bm77xeh4qzib4usgndkgjtawvdqd5dc/providers/Microsoft.Storage/storageAccounts/clitest7dwzhymhxab6rq53t","name":"clitest7dwzhymhxab6rq53t","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-22T02:33:33.0760855Z","key2":"2025-09-22T02:33:33.0760855Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-22T02:33:33.0917161Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-22T02:33:33.0917161Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2025-09-22T02:33:32.9354566Z","primaryEndpoints":{"blob":"https://clitest7dwzhymhxab6rq53t.blob.core.windows.net/","queue":"https://clitest7dwzhymhxab6rq53t.queue.core.windows.net/","table":"https://clitest7dwzhymhxab6rq53t.table.core.windows.net/","file":"https://clitest7dwzhymhxab6rq53t.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgqevkzlvjads7zyirjywrswqshimke2aw54ze6jcreyjh3fxneaxbap42sviya75ay/providers/Microsoft.Storage/storageAccounts/clitesthupd2jmgvyp7efjjy","name":"clitesthupd2jmgvyp7efjjy","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-22T02:39:16.2382371Z","key2":"2025-09-22T02:39:16.2382371Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-22T02:39:16.2538575Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-22T02:39:16.2538575Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2025-09-22T02:39:16.1133112Z","primaryEndpoints":{"blob":"https://clitesthupd2jmgvyp7efjjy.blob.core.windows.net/","queue":"https://clitesthupd2jmgvyp7efjjy.queue.core.windows.net/","table":"https://clitesthupd2jmgvyp7efjjy.table.core.windows.net/","file":"https://clitesthupd2jmgvyp7efjjy.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgvaw52ob4e6t4knglvcfkwkt5pvplcqjcxzfbftqllxpacy5vv2irf2gfuodtwvz5q/providers/Microsoft.Storage/storageAccounts/clitestpkcb3xfvzxeb2ogpk","name":"clitestpkcb3xfvzxeb2ogpk","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-22T02:48:28.0919867Z","key2":"2025-09-22T02:48:28.0919867Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-22T02:48:28.0919867Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-22T02:48:28.0919867Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2025-09-22T02:48:27.9826714Z","primaryEndpoints":{"blob":"https://clitestpkcb3xfvzxeb2ogpk.blob.core.windows.net/","queue":"https://clitestpkcb3xfvzxeb2ogpk.queue.core.windows.net/","table":"https://clitestpkcb3xfvzxeb2ogpk.table.core.windows.net/","file":"https://clitestpkcb3xfvzxeb2ogpk.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgcec4m3hx5gjieh47fbge6kjopissq2tkuuhecaswoxvxlx6pmld3wkkkqpbbt64fd/providers/Microsoft.Storage/storageAccounts/clitestr36nz43vogmwl7kfb","name":"clitestr36nz43vogmwl7kfb","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-22T06:54:12.2758834Z","key2":"2025-09-22T06:54:12.2758834Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-22T06:54:12.2758834Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-22T06:54:12.2758834Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2025-09-22T06:54:12.1820828Z","primaryEndpoints":{"blob":"https://clitestr36nz43vogmwl7kfb.blob.core.windows.net/","queue":"https://clitestr36nz43vogmwl7kfb.queue.core.windows.net/","table":"https://clitestr36nz43vogmwl7kfb.table.core.windows.net/","file":"https://clitestr36nz43vogmwl7kfb.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_active_active_vnet_vnet_connection75ubnsc7vmq546wss3jjf4xh32hs3p3k/providers/Microsoft.Storage/storageAccounts/clitestvpncnnektlxs4oggu","name":"clitestvpncnnektlxs4oggu","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-23T05:37:40.8345780Z","key2":"2025-09-23T05:37:40.8345780Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-23T05:37:40.8502037Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-23T05:37:40.8502037Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2025-09-23T05:37:40.7252008Z","primaryEndpoints":{"blob":"https://clitestvpncnnektlxs4oggu.blob.core.windows.net/","queue":"https://clitestvpncnnektlxs4oggu.queue.core.windows.net/","table":"https://clitestvpncnnektlxs4oggu.table.core.windows.net/","file":"https://clitestvpncnnektlxs4oggu.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '13970'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 23 Sep 2025 09:46:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - d64bb24d-5802-4d40-9146-fde42bed9ddc
      - f1e23fcd-d8d1-40a4-85a9-ec55cae17e66
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --account-name -n --metadata
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/listKeys?api-version=2025-01-01&$expand=kerb
  response:
    body:
      string: '{"keys":[{"creationTime":"2025-09-23T09:46:33.8932658Z","keyName":"key1","value":"veryFakedStorageAccountKey==","permissions":"FULL"},{"creationTime":"2025-09-23T09:46:33.8932658Z","keyName":"key2","value":"veryFakedStorageAccountKey==","permissions":"FULL"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '260'
      content-type:
      - application/json
      date:
      - Tue, 23 Sep 2025 09:47:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/d23736bc-0a52-4023-9bec-35fa5a0cf6ad
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '799'
      x-ms-throttling-version:
      - v1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/xml
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --account-name -n --metadata
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-storage-blob/12.16.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
      x-ms-date:
      - Tue, 23 Sep 2025 09:47:00 GMT
      x-ms-meta-k1:
      - v1
      x-ms-meta-k2:
      - v2
      x-ms-version:
      - '2022-11-02'
    method: PUT
    uri: https://clitest000002.blob.core.windows.net/container1?restype=container
  response:
    body:
      string: ''
    headers:
      content-length:
      - '0'
      date:
      - Tue, 23 Sep 2025 09:47:01 GMT
      etag:
      - '"0x8DDFA8625A1BF8F"'
      last-modified:
      - Tue, 23 Sep 2025 09:47:02 GMT
      server:
      - Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0
      x-ms-version:
      - '2022-11-02'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container legal-hold show
      Connection:
      - keep-alive
      ParameterSetName:
      - --account-name -c -g
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/blobServices/default/containers/container1?api-version=2025-01-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/blobServices/default/containers/container1","name":"container1","type":"Microsoft.Storage/storageAccounts/blobServices/containers","etag":"\"0x8DDFA8625A1BF8F\"","properties":{"deleted":false,"remainingRetentionDays":0,"defaultEncryptionScope":"$account-encryption-key","denyEncryptionScopeOverride":false,"metadata":{"k1":"v1","k2":"v2"},"publicAccess":"None","leaseStatus":"Unlocked","leaseState":"Available","lastModifiedTime":"2025-09-23T09:47:02.0000000Z","legalHold":{"hasLegalHold":false,"tags":[]},"hasImmutabilityPolicy":false,"hasLegalHold":false}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '707'
      content-type:
      - application/json
      date:
      - Tue, 23 Sep 2025 09:47:02 GMT
      etag:
      - '"0x8DDFA8625A1BF8F"'
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/3ada7b25-c552-4e1d-a654-7fa6ef0e565c
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"tags": ["tag1", "tag2"], "allowProtectedAppendWritesAll": true}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container legal-hold set
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      ParameterSetName:
      - --account-name -c -g --tags --w-all
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/blobServices/default/containers/container1/setLegalHold?api-version=2025-01-01
  response:
    body:
      string: '{"allowProtectedAppendWritesAll":true,"hasLegalHold":true,"tags":["tag1","tag2"]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '81'
      content-type:
      - application/json
      date:
      - Tue, 23 Sep 2025 09:47:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/1f2079a1-2292-43c2-98e6-4f2e311ce8ab
      x-ms-ratelimit-remaining-subscription-writes:
      - '198'
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"tags": ["tag1", "tag2"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container legal-hold clear
      Connection:
      - keep-alive
      Content-Length:
      - '26'
      Content-Type:
      - application/json
      ParameterSetName:
      - --account-name -c -g --tags
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/blobServices/default/containers/container1/clearLegalHold?api-version=2025-01-01
  response:
    body:
      string: '{"hasLegalHold":false,"tags":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '32'
      content-type:
      - application/json
      date:
      - Tue, 23 Sep 2025 09:47:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/7d0ba0d7-2130-4edd-beac-3c739b20c19a
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"tags": ["tag3", "tag4"], "allowProtectedAppendWritesAll": false}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container legal-hold set
      Connection:
      - keep-alive
      Content-Length:
      - '66'
      Content-Type:
      - application/json
      ParameterSetName:
      - --account-name -c -g --tags --w-all
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/blobServices/default/containers/container1/setLegalHold?api-version=2025-01-01
  response:
    body:
      string: '{"allowProtectedAppendWritesAll":false,"hasLegalHold":true,"tags":["tag3","tag4"]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '82'
      content-type:
      - application/json
      date:
      - Tue, 23 Sep 2025 09:47:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/c1ad6e59-51e8-4cea-978f-e72d1422fb76
      x-ms-ratelimit-remaining-subscription-writes:
      - '198'
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"tags": ["tag3", "tag4"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container legal-hold clear
      Connection:
      - keep-alive
      Content-Length:
      - '26'
      Content-Type:
      - application/json
      ParameterSetName:
      - --account-name -c -g --tags
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/blobServices/default/containers/container1/clearLegalHold?api-version=2025-01-01
  response:
    body:
      string: '{"hasLegalHold":false,"tags":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '32'
      content-type:
      - application/json
      date:
      - Tue, 23 Sep 2025 09:47:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/aeb7a28b-c43e-45ab-81a7-08c7e386f3e2
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
version: 1
