interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003?api-version=2025-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003","name":"clitest000003","type":"Microsoft.KeyVault/vaults","location":"southcentralus","tags":{},"systemData":{"createdBy":"test@example.com","createdByType":"User","createdAt":"2025-09-25T15:09:57.718Z","lastModifiedBy":"test@example.com","lastModifiedByType":"User","lastModifiedAt":"2025-09-25T15:09:57.718Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","accessPolicies":[{"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","objectId":"7b1bdbe4-80ac-47f9-882b-33d6e62950ab","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enabledForDiskEncryption":false,"enabledForTemplateDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enableRbacAuthorization":false,"vaultUri":"https://clitest000003.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1070'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Sep 2025 15:10:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 2.2.317.0
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -p --vault-name -o --query
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: POST
    uri: https://clitest000003.vault.azure.net/keys/testkey/create?api-version=7.6-preview.2
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Sep 2025 15:10:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.microsoftonline.com/7b31ddc4-9101-4ef0-a387-79ce181cacdb",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.26;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - southcentralus
      x-ms-keyvault-service-version:
      - 1.9.2638.1
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"kty": "RSA", "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key create
      Connection:
      - keep-alive
      Content-Length:
      - '47'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -p --vault-name -o --query
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: POST
    uri: https://clitest000003.vault.azure.net/keys/testkey/create?api-version=7.6-preview.2
  response:
    body:
      string: '{"key":{"kid":"https://clitest000003.vault.azure.net/keys/testkey/db150bbfbc634fc2ab8eaccd98495615","kty":"RSA","key_ops":["encrypt","decrypt","sign","verify","wrapKey","unwrapKey"],"n":"wge5yCVTG1Z7fPTVlHHIeslOWfhMcc65R1j_TrQiehKbLO_LKGOp4KELCsqU1LEbaJ5rZIA4Hepasu0i2XzxwVqBH7fGHgtgYNazqcwLQW5V4_j0jqPoZ0rbkNaN-YPLWSo2kiNME0vO6YtJ9t4hUY05JvwBFsLu-cfyZEwIrFr6n-i4jT5iKv8ddVGJ9X4Tf9-WhIgPea1tcuxZFWEE598lFPNOX_f3eSV_Ks0FXGmwCMhcvk60JP6qcG4DV1KqZ_7aLLAptQaoqJASt_hpt0-MCl12s1Vq4dn7TetrY9HyQ5mW7cZ0SoN2SnjPrxBac9gWewj1e5WKqc8bVl8QoQ","e":"AQAB"},"attributes":{"enabled":true,"created":1758813038,"updated":1758813038,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7,"exportable":false,"hsmPlatform":"0"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '722'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Sep 2025 15:10:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.26;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - southcentralus
      x-ms-keyvault-service-version:
      - 1.9.2638.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --assign-identity -o --query
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2025-01-01
  response:
    body:
      string: '{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-25T15:09:27.0918650Z","key2":"2025-09-25T15:09:27.0918650Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2025-09-25T15:09:26.9356241Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1337'
      content-type:
      - application/json
      date:
      - Thu, 25 Sep 2025 15:10:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"sku": {"name": "Standard_LRS"}, "tags": {}, "identity": {"type": "SystemAssigned"},
      "properties": {"encryption": {"services": {"blob": {"enabled": true, "keyType":
      "Account"}, "file": {"enabled": true, "keyType": "Account"}}, "keySource": "Microsoft.Storage"},
      "supportsHttpsTrafficOnly": true, "networkAcls": {"bypass": "AzureServices",
      "virtualNetworkRules": [], "ipRules": [], "ipv6Rules": [], "defaultAction":
      "Allow"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account update
      Connection:
      - keep-alive
      Content-Length:
      - '426'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --assign-identity -o --query
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2025-01-01
  response:
    body:
      string: '{"identity":{"principalId":"5962bd7d-054b-444c-b365-5dd012f06a21","tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","type":"SystemAssigned"},"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-25T15:09:27.0918650Z","key2":"2025-09-25T15:09:27.0918650Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2025-09-25T15:09:26.9356241Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1477'
      content-type:
      - application/json
      date:
      - Thu, 25 Sep 2025 15:10:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/3fa6fddd-680a-41f4-8844-0ac63e0ce37c
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --object-id -g --key-permissions
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003?api-version=2025-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003","name":"clitest000003","type":"Microsoft.KeyVault/vaults","location":"southcentralus","tags":{},"systemData":{"createdBy":"test@example.com","createdByType":"User","createdAt":"2025-09-25T15:09:57.718Z","lastModifiedBy":"test@example.com","lastModifiedByType":"User","lastModifiedAt":"2025-09-25T15:09:57.718Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","accessPolicies":[{"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","objectId":"7b1bdbe4-80ac-47f9-882b-33d6e62950ab","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enabledForDiskEncryption":false,"enabledForTemplateDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enableRbacAuthorization":false,"vaultUri":"https://clitest000003.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1070'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Sep 2025 15:10:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 2.2.317.0
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "southcentralus", "tags": {}, "properties": {"tenantId": "7b31ddc4-9101-4ef0-a387-79ce181cacdb",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "7b31ddc4-9101-4ef0-a387-79ce181cacdb", "objectId": "7b1bdbe4-80ac-47f9-882b-33d6e62950ab",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}, {"tenantId": "7b31ddc4-9101-4ef0-a387-79ce181cacdb", "objectId":
      "5962bd7d-054b-444c-b365-5dd012f06a21", "permissions": {"keys": ["unwrapKey",
      "wrapKey", "get", "recover"]}}], "vaultUri": "https://clitest000003.vault.azure.net/",
      "enabledForDeployment": false, "enabledForDiskEncryption": false, "enabledForTemplateDeployment":
      false, "enableSoftDelete": true, "softDeleteRetentionInDays": 7, "enableRbacAuthorization":
      false, "provisioningState": "Succeeded", "publicNetworkAccess": "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      Content-Length:
      - '873'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n --object-id -g --key-permissions
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003?api-version=2025-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003","name":"clitest000003","type":"Microsoft.KeyVault/vaults","location":"southcentralus","tags":{},"systemData":{"createdBy":"test@example.com","createdByType":"User","createdAt":"2025-09-25T15:09:57.718Z","lastModifiedBy":"test@example.com","lastModifiedByType":"User","lastModifiedAt":"2025-09-25T15:10:46.909Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","accessPolicies":[{"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","objectId":"7b1bdbe4-80ac-47f9-882b-33d6e62950ab","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","objectId":"5962bd7d-054b-444c-b365-5dd012f06a21","permissions":{"keys":["unwrapKey","wrapKey","get","recover"]}}],"enabledForDeployment":false,"enabledForDiskEncryption":false,"enabledForTemplateDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enableRbacAuthorization":false,"vaultUri":"https://clitest000003.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1235'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Sep 2025 15:10:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 2.2.317.0
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/bc9f2f50-5966-47c4-b6e2-9d0e3ff74fa3
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --set
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003?api-version=2025-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003","name":"clitest000003","type":"Microsoft.KeyVault/vaults","location":"southcentralus","tags":{},"systemData":{"createdBy":"test@example.com","createdByType":"User","createdAt":"2025-09-25T15:09:57.718Z","lastModifiedBy":"test@example.com","lastModifiedByType":"User","lastModifiedAt":"2025-09-25T15:10:46.909Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","accessPolicies":[{"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","objectId":"7b1bdbe4-80ac-47f9-882b-33d6e62950ab","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","objectId":"5962bd7d-054b-444c-b365-5dd012f06a21","permissions":{"keys":["unwrapKey","wrapKey","get","recover"]}}],"enabledForDeployment":false,"enabledForDiskEncryption":false,"enabledForTemplateDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enableRbacAuthorization":false,"vaultUri":"https://clitest000003.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1235'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Sep 2025 15:10:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 2.2.317.0
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "southcentralus", "tags": {}, "properties": {"tenantId": "7b31ddc4-9101-4ef0-a387-79ce181cacdb",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "7b31ddc4-9101-4ef0-a387-79ce181cacdb", "objectId": "7b1bdbe4-80ac-47f9-882b-33d6e62950ab",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}, {"tenantId": "7b31ddc4-9101-4ef0-a387-79ce181cacdb", "objectId":
      "5962bd7d-054b-444c-b365-5dd012f06a21", "permissions": {"keys": ["unwrapKey",
      "wrapKey", "get", "recover"]}}], "vaultUri": "https://clitest000003.vault.azure.net/",
      "enabledForDeployment": false, "enabledForDiskEncryption": false, "enabledForTemplateDeployment":
      false, "enableSoftDelete": true, "softDeleteRetentionInDays": 7, "enableRbacAuthorization":
      false, "provisioningState": "Succeeded", "publicNetworkAccess": "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault update
      Connection:
      - keep-alive
      Content-Length:
      - '873'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --set
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003?api-version=2025-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003","name":"clitest000003","type":"Microsoft.KeyVault/vaults","location":"southcentralus","tags":{},"systemData":{"createdBy":"test@example.com","createdByType":"User","createdAt":"2025-09-25T15:09:57.718Z","lastModifiedBy":"test@example.com","lastModifiedByType":"User","lastModifiedAt":"2025-09-25T15:10:49.956Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","accessPolicies":[{"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","objectId":"7b1bdbe4-80ac-47f9-882b-33d6e62950ab","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","objectId":"5962bd7d-054b-444c-b365-5dd012f06a21","permissions":{"keys":["unwrapKey","wrapKey","get","recover"]}}],"enabledForDeployment":false,"enabledForDiskEncryption":false,"enabledForTemplateDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enableRbacAuthorization":false,"vaultUri":"https://clitest000003.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1235'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Sep 2025 15:10:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 2.2.317.0
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/3e55e1f6-4f80-4ad0-8dd1-bbcd2a50ad13
      x-ms-ratelimit-remaining-subscription-writes:
      - '198'
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - resource update
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --set
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault","namespace":"Microsoft.KeyVault","authorizations":[{"applicationId":"cfa8b339-82a2-471a-a3c9-0fc0be7a4093","roleDefinitionId":"1cf9858a-28a2-4228-abba-94e606305b95"},{"applicationId":"589d5083-6f11-4d30-a62a-a4b316a14abf","roleDefinitionId":"1f7e9952-ea79-42b8-a90e-b2dabbe1c1f2"},{"applicationId":"a1b76039-a76c-499f-a2dd-846b4cc32627"},{"applicationId":"1341df96-0b28-43da-ba24-7a6ce39be816"}],"resourceTypes":[{"resourceType":"vaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2019-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SupportsTags, SupportsLocation"},{"resourceType":"vaults/secrets","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2019-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"vaults/accessPolicies","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2019-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"operations","locations":[],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01","2014-12-19-preview"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2019-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"locations","locations":[],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"locations/notifyNetworkSecurityPerimeterUpdatesAvailable","locations":["North
        Central US","South Central US","Central US EUAP","East US 2 EUAP","West Central
        US","UK South","West Europe","Australia Central","Canada Central","Germany
        West Central","East Asia","Australia East","Japan East","East US 2","East
        US","Korea Central","Norway West","South Africa West","Brazil South","South
        India","Sweden Central","Switzerland West","UAE Central","Australia Central
        2","Central India","Central US","Germany North","Canada East","France Central","Korea
        South","Norway East","Poland Central","Qatar Central","South Africa North","Australia
        Southeast","Southeast Asia","Brazil Southeast","Switzerland North","UAE North","UK
        West","West India","Japan West","West US 2","West US 3","West US","Mexico
        Central","Israel Central","Spain Central","North Europe","Italy North","Malaysia
        West","Indonesia Central","New Zealand North","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview"],"defaultApiVersion":"2022-02-01-preview","apiProfiles":[{"profileVersion":"2018-06-01-profile","apiVersion":"2022-02-01-preview"}],"capabilities":"None"},{"resourceType":"locations/deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"locations/deleteVirtualNetworkOrSubnets","locations":["East
        US","North Central US","West Europe","North Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West Central US","West
        US 2","West US","Japan East","Japan West","Australia East","Australia Southeast","Australia
        Central","Brazil South","Central India","South India","West India","Canada
        Central","Canada East","UK South","UK West","Korea Central","Korea South","France
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"],"defaultApiVersion":"2019-09-01","capabilities":"None"},{"resourceType":"locations/operationResults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"vaults/eventGridFilters","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14"],"defaultApiVersion":"2019-09-01","capabilities":"None"},{"resourceType":"managedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","UK West","SouthEast
        Asia","East Asia","Korea Central","Australia Central","West US","East US","North
        Central US","West Central US","West US 2","West US 3","Canada East","Japan
        East","UAE North","Australia East","France Central","Switzerland West","Central
        India","Brazil South","Sweden Central","Qatar Central","South India","Poland
        Central","Japan West","Norway East","Norway West","Germany West Central","Italy
        North","Israel Central","Australia Central 2","Brazil Southeast","West India","Mexico
        Central","Spain Central","Australia Southeast","Germany North","Korea South","South
        Africa West","UAE Central","New Zealand North","Malaysia West","Indonesia
        Central","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-12-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview"],"defaultApiVersion":"2023-07-01","capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SupportsTags, SupportsLocation"},{"resourceType":"deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","UK West","SouthEast
        Asia","East Asia","Korea Central","Australia Central","West US","East US","North
        Central US","West Central US","West US 2","West US 3","Canada East","Japan
        East","UAE North","Australia East","France Central","Switzerland West","Central
        India","Brazil South","Sweden Central","Qatar Central","South India","Poland
        Central","Japan West","Norway East","Norway West","Germany West Central","Italy
        North","Israel Central","Australia Central 2","Brazil Southeast","West India","Mexico
        Central","Spain Central","Australia Southeast","Germany North","Korea South","South
        Africa West","UAE Central","New Zealand North","Malaysia West","Indonesia
        Central","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-12-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview"],"defaultApiVersion":"2021-04-01-preview","capabilities":"None"},{"resourceType":"locations/deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","UK West","SouthEast
        Asia","East Asia","Korea Central","Australia Central","West US","East US","North
        Central US","West Central US","West US 2","West US 3","Canada East","Japan
        East","UAE North","Australia East","France Central","Switzerland West","Central
        India","Brazil South","Sweden Central","Qatar Central","South India","Poland
        Central","Japan West","Norway East","Norway West","Germany West Central","Italy
        North","Israel Central","Australia Central 2","Brazil Southeast","West India","Mexico
        Central","Spain Central","Australia Southeast","Germany North","Korea South","South
        Africa West","UAE Central","New Zealand North","Malaysia West","Indonesia
        Central","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-12-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview"],"capabilities":"None"},{"resourceType":"locations/managedHsmOperationResults","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","UK West","SouthEast
        Asia","East Asia","Korea Central","Australia Central","West US","East US","North
        Central US","West Central US","West US 2","West US 3","Canada East","Japan
        East","UAE North","Australia East","France Central","Switzerland West","Central
        India","Brazil South","Sweden Central","Qatar Central","South India","Poland
        Central","Japan West","Norway East","Norway West","Germany West Central","Italy
        North","Israel Central","Australia Central 2","Brazil Southeast","West India","Mexico
        Central","Spain Central","Australia Southeast","Germany North","Korea South","South
        Africa West","UAE Central","New Zealand North","Malaysia West","Indonesia
        Central","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-12-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview"],"capabilities":"None"},{"resourceType":"managedHSMs/keys","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","UK West","SouthEast
        Asia","East Asia","Korea Central","Australia Central","West US","East US","North
        Central US","West Central US","West US 2","West US 3","Canada East","Japan
        East","UAE North","Australia East","France Central","Switzerland West","Central
        India","Brazil South","Sweden Central","Qatar Central","Poland Central","South
        India","Japan West","Norway East","Norway West","Germany West Central","Italy
        North","Israel Central","Australia Central 2","Brazil Southeast","West India","Mexico
        Central","Spain Central","Australia Southeast","Germany North","Korea South","South
        Africa West","UAE Central","New Zealand North","Malaysia West","Indonesia
        Central","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01"],"defaultApiVersion":"2022-11-01","capabilities":"None"},{"resourceType":"managedHSMs/keys/versions","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","UK West","SouthEast
        Asia","East Asia","Korea Central","Australia Central","West US","East US","North
        Central US","West Central US","West US 2","West US 3","Canada East","Japan
        East","UAE North","Australia East","France Central","Switzerland West","Central
        India","Brazil South","Sweden Central","Qatar Central","Poland Central","South
        India","Japan West","Norway East","Norway West","Germany West Central","Italy
        North","Israel Central","Australia Central 2","Brazil Southeast","West India","Mexico
        Central","Spain Central","Australia Southeast","Germany North","Korea South","South
        Africa West","UAE Central","New Zealand North","Malaysia West","Indonesia
        Central","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01"],"defaultApiVersion":"2022-11-01","capabilities":"None"},{"resourceType":"checkMhsmNameAvailability","locations":[],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01"],"defaultApiVersion":"2022-11-01","capabilities":"None"},{"resourceType":"vaults/keys","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01"],"defaultApiVersion":"2019-09-01","capabilities":"None"},{"resourceType":"vaults/keys/versions","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01"],"defaultApiVersion":"2019-09-01","capabilities":"None"}],"registrationState":"Registered","registrationPolicy":"RegistrationRequired"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '23533'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Sep 2025 15:10:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - resource update
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --set
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003?api-version=2025-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003","name":"clitest000003","type":"Microsoft.KeyVault/vaults","location":"southcentralus","tags":{},"systemData":{"createdBy":"test@example.com","createdByType":"User","createdAt":"2025-09-25T15:09:57.718Z","lastModifiedBy":"test@example.com","lastModifiedByType":"User","lastModifiedAt":"2025-09-25T15:10:49.956Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","accessPolicies":[{"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","objectId":"7b1bdbe4-80ac-47f9-882b-33d6e62950ab","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","objectId":"5962bd7d-054b-444c-b365-5dd012f06a21","permissions":{"keys":["unwrapKey","wrapKey","get","recover"]}}],"enabledForDeployment":false,"enabledForDiskEncryption":false,"enabledForTemplateDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enableRbacAuthorization":false,"vaultUri":"https://clitest000003.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1235'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Sep 2025 15:10:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 2.2.317.0
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - resource update
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --set
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.KeyVault","namespace":"Microsoft.KeyVault","authorizations":[{"applicationId":"cfa8b339-82a2-471a-a3c9-0fc0be7a4093","roleDefinitionId":"1cf9858a-28a2-4228-abba-94e606305b95"},{"applicationId":"589d5083-6f11-4d30-a62a-a4b316a14abf","roleDefinitionId":"1f7e9952-ea79-42b8-a90e-b2dabbe1c1f2"},{"applicationId":"a1b76039-a76c-499f-a2dd-846b4cc32627"},{"applicationId":"1341df96-0b28-43da-ba24-7a6ce39be816"}],"resourceTypes":[{"resourceType":"vaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2019-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SupportsTags, SupportsLocation"},{"resourceType":"vaults/secrets","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2019-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"vaults/accessPolicies","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2019-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"operations","locations":[],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01","2014-12-19-preview"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2019-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-03-01-hybrid","apiVersion":"2016-10-01"},{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01","2015-06-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"locations","locations":[],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"locations/notifyNetworkSecurityPerimeterUpdatesAvailable","locations":["North
        Central US","South Central US","Central US EUAP","East US 2 EUAP","West Central
        US","UK South","West Europe","Australia Central","Canada Central","Germany
        West Central","East Asia","Australia East","Japan East","East US 2","East
        US","Korea Central","Norway West","South Africa West","Brazil South","South
        India","Sweden Central","Switzerland West","UAE Central","Australia Central
        2","Central India","Central US","Germany North","Canada East","France Central","Korea
        South","Norway East","Poland Central","Qatar Central","South Africa North","Australia
        Southeast","Southeast Asia","Brazil Southeast","Switzerland North","UAE North","UK
        West","West India","Japan West","West US 2","West US 3","West US","Mexico
        Central","Israel Central","Spain Central","North Europe","Italy North","Malaysia
        West","Indonesia Central","New Zealand North","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview"],"defaultApiVersion":"2022-02-01-preview","apiProfiles":[{"profileVersion":"2018-06-01-profile","apiVersion":"2022-02-01-preview"}],"capabilities":"None"},{"resourceType":"locations/deletedVaults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"locations/deleteVirtualNetworkOrSubnets","locations":["East
        US","North Central US","West Europe","North Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West Central US","West
        US 2","West US","Japan East","Japan West","Australia East","Australia Southeast","Australia
        Central","Brazil South","Central India","South India","West India","Canada
        Central","Canada East","UK South","UK West","Korea Central","Korea South","France
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"],"defaultApiVersion":"2019-09-01","capabilities":"None"},{"resourceType":"locations/operationResults","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14","2016-10-01"],"defaultApiVersion":"2019-09-01","apiProfiles":[{"profileVersion":"2018-06-01-profile","apiVersion":"2016-10-01"}],"capabilities":"None"},{"resourceType":"vaults/eventGridFilters","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01","2018-02-14-preview","2018-02-14"],"defaultApiVersion":"2019-09-01","capabilities":"None"},{"resourceType":"managedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","UK West","SouthEast
        Asia","East Asia","Korea Central","Australia Central","West US","East US","North
        Central US","West Central US","West US 2","West US 3","Canada East","Japan
        East","UAE North","Australia East","France Central","Switzerland West","Central
        India","Brazil South","Sweden Central","Qatar Central","South India","Poland
        Central","Japan West","Norway East","Norway West","Germany West Central","Italy
        North","Israel Central","Australia Central 2","Brazil Southeast","West India","Mexico
        Central","Spain Central","Australia Southeast","Germany North","Korea South","South
        Africa West","UAE Central","New Zealand North","Malaysia West","Indonesia
        Central","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-12-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview"],"defaultApiVersion":"2023-07-01","capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SupportsTags, SupportsLocation"},{"resourceType":"deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","UK West","SouthEast
        Asia","East Asia","Korea Central","Australia Central","West US","East US","North
        Central US","West Central US","West US 2","West US 3","Canada East","Japan
        East","UAE North","Australia East","France Central","Switzerland West","Central
        India","Brazil South","Sweden Central","Qatar Central","South India","Poland
        Central","Japan West","Norway East","Norway West","Germany West Central","Italy
        North","Israel Central","Australia Central 2","Brazil Southeast","West India","Mexico
        Central","Spain Central","Australia Southeast","Germany North","Korea South","South
        Africa West","UAE Central","New Zealand North","Malaysia West","Indonesia
        Central","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-12-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview"],"defaultApiVersion":"2021-04-01-preview","capabilities":"None"},{"resourceType":"locations/deletedManagedHSMs","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","UK West","SouthEast
        Asia","East Asia","Korea Central","Australia Central","West US","East US","North
        Central US","West Central US","West US 2","West US 3","Canada East","Japan
        East","UAE North","Australia East","France Central","Switzerland West","Central
        India","Brazil South","Sweden Central","Qatar Central","South India","Poland
        Central","Japan West","Norway East","Norway West","Germany West Central","Italy
        North","Israel Central","Australia Central 2","Brazil Southeast","West India","Mexico
        Central","Spain Central","Australia Southeast","Germany North","Korea South","South
        Africa West","UAE Central","New Zealand North","Malaysia West","Indonesia
        Central","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-12-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview"],"capabilities":"None"},{"resourceType":"locations/managedHsmOperationResults","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","UK West","SouthEast
        Asia","East Asia","Korea Central","Australia Central","West US","East US","North
        Central US","West Central US","West US 2","West US 3","Canada East","Japan
        East","UAE North","Australia East","France Central","Switzerland West","Central
        India","Brazil South","Sweden Central","Qatar Central","South India","Poland
        Central","Japan West","Norway East","Norway West","Germany West Central","Italy
        North","Israel Central","Australia Central 2","Brazil Southeast","West India","Mexico
        Central","Spain Central","Australia Southeast","Germany North","Korea South","South
        Africa West","UAE Central","New Zealand North","Malaysia West","Indonesia
        Central","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-12-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview"],"capabilities":"None"},{"resourceType":"managedHSMs/keys","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","UK West","SouthEast
        Asia","East Asia","Korea Central","Australia Central","West US","East US","North
        Central US","West Central US","West US 2","West US 3","Canada East","Japan
        East","UAE North","Australia East","France Central","Switzerland West","Central
        India","Brazil South","Sweden Central","Qatar Central","Poland Central","South
        India","Japan West","Norway East","Norway West","Germany West Central","Italy
        North","Israel Central","Australia Central 2","Brazil Southeast","West India","Mexico
        Central","Spain Central","Australia Southeast","Germany North","Korea South","South
        Africa West","UAE Central","New Zealand North","Malaysia West","Indonesia
        Central","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01"],"defaultApiVersion":"2022-11-01","capabilities":"None"},{"resourceType":"managedHSMs/keys/versions","locations":["East
        US 2","South Central US","North Europe","West Europe","Canada Central","Central
        US","Switzerland North","South Africa North","UK South","UK West","SouthEast
        Asia","East Asia","Korea Central","Australia Central","West US","East US","North
        Central US","West Central US","West US 2","West US 3","Canada East","Japan
        East","UAE North","Australia East","France Central","Switzerland West","Central
        India","Brazil South","Sweden Central","Qatar Central","Poland Central","South
        India","Japan West","Norway East","Norway West","Germany West Central","Italy
        North","Israel Central","Australia Central 2","Brazil Southeast","West India","Mexico
        Central","Spain Central","Australia Southeast","Germany North","Korea South","South
        Africa West","UAE Central","New Zealand North","Malaysia West","Indonesia
        Central","Chile Central","Austria East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01"],"defaultApiVersion":"2022-11-01","capabilities":"None"},{"resourceType":"checkMhsmNameAvailability","locations":[],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01"],"defaultApiVersion":"2022-11-01","capabilities":"None"},{"resourceType":"vaults/keys","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01"],"defaultApiVersion":"2019-09-01","capabilities":"None"},{"resourceType":"vaults/keys/versions","locations":["North
        Central US","East US","North Europe","West Europe","East Asia","Southeast
        Asia","East US 2","Central US","South Central US","West US","Japan East","Japan
        West","Australia East","Australia Southeast","Brazil South","Central India","South
        India","West India","Canada Central","Canada East","UK South","UK West","West
        Central US","West US 2","Korea Central","Korea South","France Central","Australia
        Central","UAE North","South Africa North","Switzerland North","Germany West
        Central","Norway East","West US 3","Sweden Central","Qatar Central","Poland
        Central","Italy North","Israel Central","Mexico Central","Spain Central","New
        Zealand North","Malaysia West","Indonesia Central","Chile Central","Austria
        East"],"apiVersions":["2025-05-01","2024-12-01-preview","2024-11-01","2024-04-01-preview","2023-08-01-PREVIEW","2023-07-01","2023-02-01","2022-11-01","2022-07-01","2022-02-01-preview","2021-11-01-preview","2021-10-01","2021-06-01-preview","2021-04-01-preview","2020-04-01-preview","2019-09-01"],"defaultApiVersion":"2019-09-01","capabilities":"None"}],"registrationState":"Registered","registrationPolicy":"RegistrationRequired"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '23533'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Sep 2025 15:10:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "southcentralus", "tags": {}, "properties": {"sku": {"family":
      "A", "name": "standard"}, "tenantId": "7b31ddc4-9101-4ef0-a387-79ce181cacdb",
      "accessPolicies": [{"tenantId": "7b31ddc4-9101-4ef0-a387-79ce181cacdb", "objectId":
      "7b1bdbe4-80ac-47f9-882b-33d6e62950ab", "permissions": {"keys": ["all"], "secrets":
      ["all"], "certificates": ["all"], "storage": ["all"]}}, {"tenantId": "7b31ddc4-9101-4ef0-a387-79ce181cacdb",
      "objectId": "5962bd7d-054b-444c-b365-5dd012f06a21", "permissions": {"keys":
      ["unwrapKey", "wrapKey", "get", "recover"]}}], "enabledForDeployment": false,
      "enabledForDiskEncryption": false, "enabledForTemplateDeployment": false, "enableSoftDelete":
      true, "softDeleteRetentionInDays": 7, "enableRbacAuthorization": false, "vaultUri":
      "https://clitest000003.vault.azure.net/", "provisioningState": "Succeeded",
      "publicNetworkAccess": "Enabled", "enablePurgeProtection": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - resource update
      Connection:
      - keep-alive
      Content-Length:
      - '904'
      Content-Type:
      - application/json
      ParameterSetName:
      - --id --set
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003?api-version=2025-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000003","name":"clitest000003","type":"Microsoft.KeyVault/vaults","location":"southcentralus","tags":{},"systemData":{"createdBy":"test@example.com","createdByType":"User","createdAt":"2025-09-25T15:09:57.718Z","lastModifiedBy":"test@example.com","lastModifiedByType":"User","lastModifiedAt":"2025-09-25T15:10:56.628Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","accessPolicies":[{"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","objectId":"7b1bdbe4-80ac-47f9-882b-33d6e62950ab","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","objectId":"5962bd7d-054b-444c-b365-5dd012f06a21","permissions":{"keys":["unwrapKey","wrapKey","get","recover"]}}],"enabledForDeployment":false,"enabledForDiskEncryption":false,"enabledForTemplateDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enableRbacAuthorization":false,"enablePurgeProtection":true,"vaultUri":"https://clitest000003.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1264'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Sep 2025 15:10:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 2.2.317.0
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/70074e23-cfb2-4ba3-a324-bd39055020af
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --encryption-key-source --encryption-key-vault --encryption-key-name
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2025-01-01
  response:
    body:
      string: '{"identity":{"principalId":"5962bd7d-054b-444c-b365-5dd012f06a21","tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","type":"SystemAssigned"},"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-25T15:09:27.0918650Z","key2":"2025-09-25T15:09:27.0918650Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2025-09-25T15:09:26.9356241Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1477'
      content-type:
      - application/json
      date:
      - Thu, 25 Sep 2025 15:10:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"sku": {"name": "Standard_LRS"}, "tags": {}, "properties": {"encryption":
      {"services": {"blob": {"enabled": true, "keyType": "Account"}, "file": {"enabled":
      true, "keyType": "Account"}}, "keySource": "Microsoft.Keyvault", "keyvaultproperties":
      {"keyname": "testkey", "keyvaulturi": "https://clitest000003.vault.azure.net/"}},
      "supportsHttpsTrafficOnly": true, "networkAcls": {"bypass": "AzureServices",
      "virtualNetworkRules": [], "ipRules": [], "ipv6Rules": [], "defaultAction":
      "Allow"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account update
      Connection:
      - keep-alive
      Content-Length:
      - '490'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --encryption-key-source --encryption-key-vault --encryption-key-name
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2025-01-01
  response:
    body:
      string: '{"identity":{"principalId":"5962bd7d-054b-444c-b365-5dd012f06a21","tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","type":"SystemAssigned"},"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-25T15:09:27.0918650Z","key2":"2025-09-25T15:09:27.0918650Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"keyvaultproperties":{"currentVersionedKeyIdentifier":"https://clitest000003.vault.azure.net/keys/testkey/db150bbfbc634fc2ab8eaccd98495615","lastKeyRotationTimestamp":"2025-09-25T15:11:01.4207493Z","currentVersionedKeyExpirationTimestamp":"1970-01-01T00:00:00.0000000Z","keyvaulturi":"https://clitest000003.vault.azure.net/","keyname":"testkey"},"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"}},"keySource":"Microsoft.Keyvault"},"provisioningState":"Succeeded","creationTime":"2025-09-25T15:09:26.9356241Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json
      date:
      - Thu, 25 Sep 2025 15:11:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/e60bdeaa-8f2e-4419-b633-a0bf37100ddf
      x-ms-ratelimit-remaining-subscription-writes:
      - '198'
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --encryption-key-version
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2025-01-01
  response:
    body:
      string: '{"identity":{"principalId":"5962bd7d-054b-444c-b365-5dd012f06a21","tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","type":"SystemAssigned"},"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-25T15:09:27.0918650Z","key2":"2025-09-25T15:09:27.0918650Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"keyvaultproperties":{"currentVersionedKeyIdentifier":"https://clitest000003.vault.azure.net/keys/testkey/db150bbfbc634fc2ab8eaccd98495615","lastKeyRotationTimestamp":"2025-09-25T15:11:01.4207493Z","currentVersionedKeyExpirationTimestamp":"1970-01-01T00:00:00.0000000Z","keyvaulturi":"https://clitest000003.vault.azure.net/","keyname":"testkey"},"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"}},"keySource":"Microsoft.Keyvault"},"provisioningState":"Succeeded","creationTime":"2025-09-25T15:09:26.9356241Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json
      date:
      - Thu, 25 Sep 2025 15:11:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"sku": {"name": "Standard_LRS"}, "tags": {}, "properties": {"encryption":
      {"services": {"blob": {"enabled": true, "keyType": "Account"}, "file": {"enabled":
      true, "keyType": "Account"}}, "keySource": "Microsoft.Keyvault", "keyvaultproperties":
      {"keyname": "testkey", "keyversion": "db150bbfbc634fc2ab8eaccd98495615", "keyvaulturi":
      "https://clitest000003.vault.azure.net/"}}, "supportsHttpsTrafficOnly": true,
      "networkAcls": {"bypass": "AzureServices", "virtualNetworkRules": [], "ipRules":
      [], "ipv6Rules": [], "defaultAction": "Allow"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account update
      Connection:
      - keep-alive
      Content-Length:
      - '540'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --encryption-key-version
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2025-01-01
  response:
    body:
      string: '{"identity":{"principalId":"5962bd7d-054b-444c-b365-5dd012f06a21","tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","type":"SystemAssigned"},"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-25T15:09:27.0918650Z","key2":"2025-09-25T15:09:27.0918650Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"keyvaultproperties":{"currentVersionedKeyIdentifier":"https://clitest000003.vault.azure.net/keys/testkey/db150bbfbc634fc2ab8eaccd98495615","lastKeyRotationTimestamp":"2025-09-25T15:11:07.0614221Z","currentVersionedKeyExpirationTimestamp":"1970-01-01T00:00:00.0000000Z","keyvaulturi":"https://clitest000003.vault.azure.net/","keyname":"testkey","keyversion":"db150bbfbc634fc2ab8eaccd98495615"},"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"}},"keySource":"Microsoft.Keyvault"},"provisioningState":"Succeeded","creationTime":"2025-09-25T15:09:26.9356241Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1872'
      content-type:
      - application/json
      date:
      - Thu, 25 Sep 2025 15:11:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/3d6b2fa2-b727-42b9-8dd0-ea34fb8ae31b
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --encryption-key-version
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2025-01-01
  response:
    body:
      string: '{"identity":{"principalId":"5962bd7d-054b-444c-b365-5dd012f06a21","tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","type":"SystemAssigned"},"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-25T15:09:27.0918650Z","key2":"2025-09-25T15:09:27.0918650Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"keyvaultproperties":{"currentVersionedKeyIdentifier":"https://clitest000003.vault.azure.net/keys/testkey/db150bbfbc634fc2ab8eaccd98495615","lastKeyRotationTimestamp":"2025-09-25T15:11:07.0614221Z","currentVersionedKeyExpirationTimestamp":"1970-01-01T00:00:00.0000000Z","keyvaulturi":"https://clitest000003.vault.azure.net/","keyname":"testkey","keyversion":"db150bbfbc634fc2ab8eaccd98495615"},"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"}},"keySource":"Microsoft.Keyvault"},"provisioningState":"Succeeded","creationTime":"2025-09-25T15:09:26.9356241Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1872'
      content-type:
      - application/json
      date:
      - Thu, 25 Sep 2025 15:11:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"sku": {"name": "Standard_LRS"}, "tags": {}, "properties": {"encryption":
      {"services": {"blob": {"enabled": true, "keyType": "Account"}, "file": {"enabled":
      true, "keyType": "Account"}}, "keySource": "Microsoft.Keyvault", "keyvaultproperties":
      {"keyname": "testkey", "keyversion": "", "keyvaulturi": "https://clitest000003.vault.azure.net/"}},
      "supportsHttpsTrafficOnly": true, "networkAcls": {"bypass": "AzureServices",
      "virtualNetworkRules": [], "ipRules": [], "ipv6Rules": [], "defaultAction":
      "Allow"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account update
      Connection:
      - keep-alive
      Content-Length:
      - '508'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --encryption-key-version
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2025-01-01
  response:
    body:
      string: '{"identity":{"principalId":"5962bd7d-054b-444c-b365-5dd012f06a21","tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","type":"SystemAssigned"},"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-25T15:09:27.0918650Z","key2":"2025-09-25T15:09:27.0918650Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"keyvaultproperties":{"currentVersionedKeyIdentifier":"https://clitest000003.vault.azure.net/keys/testkey/db150bbfbc634fc2ab8eaccd98495615","lastKeyRotationTimestamp":"2025-09-25T15:11:12.0302147Z","currentVersionedKeyExpirationTimestamp":"1970-01-01T00:00:00.0000000Z","keyvaulturi":"https://clitest000003.vault.azure.net/","keyname":"testkey","keyversion":""},"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"}},"keySource":"Microsoft.Keyvault"},"provisioningState":"Succeeded","creationTime":"2025-09-25T15:09:26.9356241Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1840'
      content-type:
      - application/json
      date:
      - Thu, 25 Sep 2025 15:11:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/e373374c-2040-46b1-87c6-04a93e993522
      x-ms-ratelimit-remaining-subscription-writes:
      - '200'
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"kty": "RSA", "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key create
      Connection:
      - keep-alive
      Content-Length:
      - '47'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -p --vault-name
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: POST
    uri: https://clitest000003.vault.azure.net/keys/newkey/create?api-version=7.6-preview.2
  response:
    body:
      string: '{"key":{"kid":"https://clitest000003.vault.azure.net/keys/newkey/08585e75cb054edb92fd89c196e54fc3","kty":"RSA","key_ops":["encrypt","decrypt","sign","verify","wrapKey","unwrapKey"],"n":"wg7uPh23_2BGNyIROroZ3l-XDEUmA-LLch5QbUQeiEsaEv1MocuSXdutuT_mHFwiC9i6WTD_0R_bJhS0iJhzvTjLMWfyCmVzXyEfoKmSU54yRAhziYVAl1dbD9a-vo-8s7JR8f1_Mavide6YSoTF1ZWebN0awWlJ5rBr8g9I7-LKYNenLlxGFCO3FExcZsb4H78oM-T7d0vs1LSxSUYPr0FM5mssS_jXeXnSS6ZqSESraekJspZYbCzwhgAeNiOH-wwqYU0ZlegD2pkUX5qq1EAL9Jmpkqdl9uNQlBD52A6GRHiy7PqZ-BH7Fmk85CYMGO8vE8YZIVxvrkSsLaI2gQ","e":"AQAB"},"attributes":{"enabled":true,"created":1758813104,"updated":1758813104,"recoveryLevel":"CustomizedRecoverable","recoverableDays":7,"exportable":false,"hsmPlatform":"0"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '711'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 25 Sep 2025 15:11:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.26;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - southcentralus
      x-ms-keyvault-service-version:
      - 1.9.2638.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --encryption-key-vault --encryption-key-name
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2025-01-01
  response:
    body:
      string: '{"identity":{"principalId":"5962bd7d-054b-444c-b365-5dd012f06a21","tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","type":"SystemAssigned"},"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-25T15:09:27.0918650Z","key2":"2025-09-25T15:09:27.0918650Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"keyvaultproperties":{"currentVersionedKeyIdentifier":"https://clitest000003.vault.azure.net/keys/testkey/db150bbfbc634fc2ab8eaccd98495615","lastKeyRotationTimestamp":"2025-09-25T15:11:12.0302147Z","currentVersionedKeyExpirationTimestamp":"1970-01-01T00:00:00.0000000Z","keyvaulturi":"https://clitest000003.vault.azure.net/","keyname":"testkey","keyversion":""},"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"}},"keySource":"Microsoft.Keyvault"},"provisioningState":"Succeeded","creationTime":"2025-09-25T15:09:26.9356241Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1840'
      content-type:
      - application/json
      date:
      - Thu, 25 Sep 2025 15:11:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"sku": {"name": "Standard_LRS"}, "tags": {}, "properties": {"encryption":
      {"services": {"blob": {"enabled": true, "keyType": "Account"}, "file": {"enabled":
      true, "keyType": "Account"}}, "keySource": "Microsoft.Keyvault", "keyvaultproperties":
      {"keyname": "newkey", "keyversion": "", "keyvaulturi": "https://clitest000003.vault.azure.net/"}},
      "supportsHttpsTrafficOnly": true, "networkAcls": {"bypass": "AzureServices",
      "virtualNetworkRules": [], "ipRules": [], "ipv6Rules": [], "defaultAction":
      "Allow"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account update
      Connection:
      - keep-alive
      Content-Length:
      - '507'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --encryption-key-vault --encryption-key-name
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2025-01-01
  response:
    body:
      string: '{"identity":{"principalId":"5962bd7d-054b-444c-b365-5dd012f06a21","tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","type":"SystemAssigned"},"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-25T15:09:27.0918650Z","key2":"2025-09-25T15:09:27.0918650Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"keyvaultproperties":{"currentVersionedKeyIdentifier":"https://clitest000003.vault.azure.net/keys/newkey/08585e75cb054edb92fd89c196e54fc3","lastKeyRotationTimestamp":"2025-09-25T15:11:47.9836862Z","currentVersionedKeyExpirationTimestamp":"1970-01-01T00:00:00.0000000Z","keyvaulturi":"https://clitest000003.vault.azure.net/","keyname":"newkey","keyversion":""},"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"}},"keySource":"Microsoft.Keyvault"},"provisioningState":"Succeeded","creationTime":"2025-09-25T15:09:26.9356241Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1838'
      content-type:
      - application/json
      date:
      - Thu, 25 Sep 2025 15:11:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/500b8189-2ac4-4387-8874-c39a484ca127
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --encryption-key-source
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2025-01-01
  response:
    body:
      string: '{"identity":{"principalId":"5962bd7d-054b-444c-b365-5dd012f06a21","tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","type":"SystemAssigned"},"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-25T15:09:27.0918650Z","key2":"2025-09-25T15:09:27.0918650Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"keyvaultproperties":{"currentVersionedKeyIdentifier":"https://clitest000003.vault.azure.net/keys/newkey/08585e75cb054edb92fd89c196e54fc3","lastKeyRotationTimestamp":"2025-09-25T15:11:47.9836862Z","currentVersionedKeyExpirationTimestamp":"1970-01-01T00:00:00.0000000Z","keyvaulturi":"https://clitest000003.vault.azure.net/","keyname":"newkey","keyversion":""},"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"}},"keySource":"Microsoft.Keyvault"},"provisioningState":"Succeeded","creationTime":"2025-09-25T15:09:26.9356241Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1838'
      content-type:
      - application/json
      date:
      - Thu, 25 Sep 2025 15:11:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
- request:
    body: '{"sku": {"name": "Standard_LRS"}, "tags": {}, "properties": {"encryption":
      {"services": {"blob": {"enabled": true, "keyType": "Account"}, "file": {"enabled":
      true, "keyType": "Account"}}, "keySource": "Microsoft.Storage"}, "supportsHttpsTrafficOnly":
      true, "networkAcls": {"bypass": "AzureServices", "virtualNetworkRules": [],
      "ipRules": [], "ipv6Rules": [], "defaultAction": "Allow"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account update
      Connection:
      - keep-alive
      Content-Length:
      - '386'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --encryption-key-source
      User-Agent:
      - AZURECLI/2.77.0 azsdk-python-core/1.35.0 Python/3.12.10 (Windows-10-10.0.19045-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2025-01-01
  response:
    body:
      string: '{"identity":{"principalId":"5962bd7d-054b-444c-b365-5dd012f06a21","tenantId":"7b31ddc4-9101-4ef0-a387-79ce181cacdb","type":"SystemAssigned"},"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{},"properties":{"keyCreationTime":{"key1":"2025-09-25T15:09:27.0918650Z","key2":"2025-09-25T15:09:27.0918650Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2025-09-25T15:09:27.1074963Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2025-09-25T15:09:26.9356241Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1477'
      content-type:
      - application/json
      date:
      - Thu, 25 Sep 2025 15:11:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=7b31ddc4-9101-4ef0-a387-79ce181cacdb,objectId=7b1bdbe4-80ac-47f9-882b-33d6e62950ab/eastus2euap/1554a8ea-3357-4b45-b8f5-ba86063b60c6
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-ms-throttling-version:
      - v2
    status:
      code: 200
      message: OK
version: 1
